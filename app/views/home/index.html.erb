<%= content_for :aside do %>
  <p>Streamlined Editing for GitHub Pages</p>

  <p>Developed by <a href="http://freelancing-gods.com">Pat Allan</a> at <a href="https://railscamps.com">Rails Camp 3 New Zealand</a>.
<% end %>

<article>
  <h2>Introducing Gyoza</h2>

  <p>Gyoza allows anyone with a GitHub account to easily contribute to project GitHub Pages sites. All you need to do is edit a page - the forking, committing and pull requesting is taken care of for you (but you still get credit for the commit).</p>

  <p>Gyoza expects URLs with the following format:</p>

  <pre><code><%= site_show_url(user: 'USER', repo: 'REPO', path: 'FILE_PATH') %></code></pre>

  <p>So, as an example, here's what the URL for editing the home page of the Thinking Sphinx documentation looks like:</p>

  <pre><code><%= example_url %></code></pre>

  <p>When you visit these URLs, you will be prompted to sign in via GitHub (with permission to access your email address). This is to avoid spam, and to ensure the commit is attributed to you.</p>

  <p>The file path refers to files within the <code>gh-pages</code> branch of the specified repository. There is currently no support for user GitHub Pages editing.</p>

  <p>Within your GitHub page files, you can use the following Javascript to generate a link back to the edit page on Gyoza:</p>

  <pre><code>&lt;script type="text/javascript" charset="utf-8"&gt;
var base = "http://gyozadoc.com/edit/pat/thinking-sphinx"
var path = "{{ page.url }}".replace('.html', '.md');
document.write("&lt;a class=\"gyoza\" href=\"" + base + path + "\"&gt;Edit via Gyoza&lt;/a&gt;");
&lt;/script&gt;</code></pre>

  <p>And if you want to improve Gyoza, you can: it's <a href="https://github.com/pat/gyoza">open source</a>.</p>
</article>
