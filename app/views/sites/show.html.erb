<%= content_for :aside do %>
  <h3>Editing <%= link_to_file %> from <%= link_to_repo %></h3>

  <p class="explanation">Make your changes to the file, then fill out the form below and submit. Your edit will be supplied as a pull request to <%= params[:repo] %>.

  <%= form_tag '', method: 'put' do %>
    <input type="hidden" value="<%= contents %>" id="contents" name="contents" />

    <fieldset>
      <div>
        <p>To credit the commit accordingly (use the same email address as your GitHub account):</p>
        <label for="email">Email Address</label>
        <input type="text" name="email" id="email" value="<%= email %>" />
      </div>

      <div>
        <p>These details get passed through to the generated pull request.</p>
        <label for="subject">Subject</label>
        <input type="text" name="subject" id="subject" />
      </div>

      <div>
        <label for="description">Description</label>
        <textarea name="description" id="description"></textarea>
      </div>
    </fieldset>

    <fieldset>
      <input type="submit" value="Submit Changes" />
    </fieldset>
  <% end %>
<% end %>

<div id="editor" data-file-ext="<%= extension %>"><%= contents %></div>
